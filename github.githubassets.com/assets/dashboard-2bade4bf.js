System.register(["./chunk-vendor.js","./chunk-frameworks.js","./chunk-voting.js"],function(){"use strict";var i,c,b,y,f,p,j,v,w,S;return{setters:[function(s){i=s.o,c=s.a,b=s.f},function(s){y=s.s,f=s.$,p=s.j,j=s.o,v=s.A,w=s.r,S=s.q},function(){}],execute:function(){var s=Object.defineProperty,P=(t,e)=>s(t,"name",{value:e,configurable:!0});const{getItem:_,setItem:E}=y("localStorage"),L="feeds-last-saved-tab",h=["feed-next","feed-original"],R=h[0];i(".dashboard-sidebar.is-placeholder",{constructor:HTMLElement,initialize(t){const e=t.parentNode.querySelector(".dashboard-sidebar.js-sticky");let o=!0;const r=P(()=>{const n=e.getBoundingClientRect(),u=window.innerHeight,x=e.style.position==="fixed";x?x&&o&&(o=!1,e.style.height=`${u}px`):(e.style.width="auto",e.style.height=`${u-n.top}px`)},"adjustSize");document.addEventListener("scroll",r),window.addEventListener("resize",()=>{o=!0,r()}),r()}}),c("click",".js-follow-unfollow-submit",async function(t){const o=t.currentTarget.form;t.preventDefault();let r;try{r=await fetch(o.action,{method:o.method,body:new FormData(o),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{p()}r&&!r.ok&&p()}),c("details:toggled",".js-news-feed-event-group",function(t){if(!t.detail.open)return;const e=t.currentTarget;for(const o of e.querySelectorAll("[data-hydro-view]"))o instanceof HTMLElement&&f(o)}),i(".js-feeds-tabs",{constructor:HTMLElement,initialize(t){if(t){let e=_(L)||R;h.indexOf(e)===-1&&(e=R);const o=t.querySelector(`button#${e}`);if(o){o.setAttribute("aria-selected","true");const r=o.getAttribute("aria-controls")||"",n=document.getElementById(r);n&&n.removeAttribute("hidden")}}}}),c("click",".js-feeds-tabs button",function(t){const e=t.currentTarget;!e.id||!h.includes(e.id)||E(L,e.id)});const l={},T=.8,M=1e3,z=new IntersectionObserver(function(t){for(const e of t){const o=e.target,r=o.getAttribute("data-hydro-view");if(!r)return;const n=JSON.parse(r).payload.feed_card.card_position,u=e.intersectionRatio>T;!u&&l[n]&&(clearTimeout(l[n]),delete l[n]),u&&!l[n]&&(l[n]=setTimeout(()=>{f(o)},M))}},{rootMargin:"0px",threshold:[0,T]});i(".js-feed-item-component",t=>z.observe(t));var H=Object.defineProperty,a=(t,e)=>H(t,"name",{value:e,configurable:!0});const g=new WeakMap,U=100;function A(t){g.set(t,0)}a(A,"resetRepositoryPageLimit");function m(t){const e=g.get(t)||0;if(e>U)return;const o=t.querySelector(".js-more-repos-form");o&&(g.set(t,e+1),w(o))}a(m,"loadMoreRepositories");function I(t,e,o){const r=new URL(t,window.location.origin),n=new URLSearchParams(r.search.slice(1));return e.length<1?n.delete(o):n.set(o,e),r.search=n.toString(),r.toString()}a(I,"replaceQueryInUrl");function k(t){const e=t.querySelector(".js-your-repositories-search");return e?document.activeElement===e?!0:e.defaultValue.trim().length>0:!1}a(k,"shouldLoadAllRepositories");function d(t){const e=t.querySelector(".js-your-repositories-search");e&&b(e,"filterable:change")}a(d,"filterRepositories");function q(t){const e=t.getAttribute("data-url"),o=t.getAttribute("data-query-name");S(null,"",I(e,t.value.trim(),o))}a(q,"updateQueryInUrl"),j(".js-your-repositories-search",function(t){const e=t.closest(".js-repos-container");m(e)}),i(".js-your-repositories-search",{constructor:HTMLInputElement,initialize(t){t.defaultValue.trim().length>0&&d(t.closest(".js-repos-container"))}}),v(".js-your-repositories-search",function(t){const e=t.target;q(e)}),i(".js-more-repos-form",function(t){const e=t.closest(".js-repos-container");k(e)&&m(e),t.addEventListener("page:loaded",function(){d(e)})}),c("pjax:end",".js-repos-container",function(t){const e=t.target;A(e),d(e)})}}});
//# sourceMappingURL=dashboard-26a01bf5.js.map
